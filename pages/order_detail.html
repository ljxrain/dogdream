<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>订单详情 - AI创意魔方</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f8f8f8;
            padding-top: 44px; /* 为状态栏预留空间 */
            height: calc(100vh - 44px); /* 减去状态栏高度 */
            overflow-y: auto;
        }
        /* 进度条样式 */
        .progress-step {
            position: relative;
        }
        .progress-step::before {
            content: '';
            position: absolute;
            top: 12px;
            left: -50%;
            width: 100%;
            height: 2px;
            background-color: #e5e7eb;
            z-index: 0;
        }
        .progress-step:first-child::before {
            display: none;
        }
        .progress-step.completed::before {
            background-color: #22c55e;
        }
        .action-btn {
            transition: all 0.2s ease;
        }
        .action-btn:active {
            transform: scale(0.97);
        }
    </style>
</head>
<body>
    <!-- 页面头部 -->
    <header class="bg-white px-4 py-3 flex items-center justify-between sticky top-0 z-10 shadow-sm">
        <div class="flex items-center">
            <button id="backBtn" class="w-8 h-8 flex items-center justify-center mr-2">
                <i class="fas fa-chevron-left text-gray-600"></i>
            </button>
            <h1 class="text-lg font-semibold text-gray-800">订单详情</h1>
        </div>
        <div class="flex items-center space-x-3">
            <button class="w-8 h-8 flex items-center justify-center rounded-full bg-gray-100">
                <i class="fas fa-headset text-gray-600"></i>
            </button>
        </div>
    </header>

    <!-- 主要内容区 -->
    <main class="p-4 pb-32">
        <!-- 订单状态卡片 -->
        <div class="bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl p-4 mb-4 text-white shadow-lg">
            <div class="flex items-center justify-between mb-3">
                <h2 class="text-base font-semibold">订单状态</h2>
                <span id="orderStatusBadge" class="px-2 py-1 bg-white/20 text-white text-xs rounded-full backdrop-blur-sm">待发货</span>
            </div>
            <p id="orderStatusDesc" class="text-lg font-bold mb-1">商家正在处理您的订单</p>
            <p class="text-sm opacity-90">预计3天内发货，请耐心等待</p>
            
            <!-- 进度条 -->
            <div class="flex justify-between mt-6">
                <div class="progress-step completed flex flex-col items-center">
                    <div class="w-6 h-6 rounded-full bg-white flex items-center justify-center mb-1 z-10">
                        <i class="fas fa-check text-green-500 text-xs"></i>
                    </div>
                    <span class="text-xs text-white/90">下单</span>
                </div>
                <div class="progress-step completed flex flex-col items-center">
                    <div class="w-6 h-6 rounded-full bg-white flex items-center justify-center mb-1 z-10">
                        <i class="fas fa-check text-green-500 text-xs"></i>
                    </div>
                    <span class="text-xs text-white/90">支付</span>
                </div>
                <div class="progress-step flex flex-col items-center">
                    <div class="w-6 h-6 rounded-full bg-white/40 flex items-center justify-center mb-1 z-10">
                        <i class="fas fa-box text-white text-xs"></i>
                    </div>
                    <span class="text-xs text-white/90">发货</span>
                </div>
                <div class="progress-step flex flex-col items-center">
                    <div class="w-6 h-6 rounded-full bg-white/40 flex items-center justify-center mb-1 z-10">
                        <i class="fas fa-truck text-white text-xs"></i>
                    </div>
                    <span class="text-xs text-white/90">配送</span>
                </div>
                <div class="progress-step flex flex-col items-center">
                    <div class="w-6 h-6 rounded-full bg-white/40 flex items-center justify-center mb-1 z-10">
                        <i class="fas fa-flag text-white text-xs"></i>
                    </div>
                    <span class="text-xs text-white/90">完成</span>
                </div>
            </div>
        </div>
        
        <!-- 订单信息卡片 -->
        <div class="bg-white rounded-xl p-4 mb-4 border border-gray-200 shadow-sm">
            <h2 class="text-base font-semibold text-gray-800 mb-3">订单信息</h2>
            <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                    <span class="text-gray-500">订单编号</span>
                    <div class="flex items-center">
                        <span class="text-gray-800 mr-2" id="orderId">ORDER123456</span>
                        <button class="text-blue-500 text-xs border border-blue-100 px-1.5 py-0.5 rounded">复制</button>
                    </div>
                </div>
                <div class="flex justify-between">
                    <span class="text-gray-500">下单时间</span>
                    <span class="text-gray-800" id="orderTime">2023-06-18 15:30:45</span>
                </div>
                <div class="flex justify-between">
                    <span class="text-gray-500">支付方式</span>
                    <span class="text-gray-800">微信支付</span>
                </div>
            </div>
        </div>
        
        <!-- 商品信息卡片 -->
        <div class="bg-white rounded-xl p-4 mb-4 border border-gray-200 shadow-sm">
            <h2 class="text-base font-semibold text-gray-800 mb-3">商品信息</h2>
            <!-- 商品卡片 -->
            <div class="flex items-start mb-4 pb-4 border-b border-gray-100">
                <div class="w-16 h-16 rounded-lg overflow-hidden mr-3 border border-gray-200">
                    <img src="https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?q=80&w=200" alt="商品图片" class="w-full h-full object-cover" id="productImage">
                </div>
                <div class="flex-1">
                    <h3 class="text-sm font-medium text-gray-800" id="productName">定制T恤</h3>
                    <div class="flex items-center mt-1">
                        <span class="text-sm font-bold text-gray-700" id="productPrice">¥49.00</span>
                    </div>
                    <div class="text-xs text-gray-500 mt-1">
                        规格：<span id="productSpec">M号 / 白色</span>
                    </div>
                    <div class="text-xs text-gray-500 mt-1">
                        数量：<span id="productQuantity">1</span>
                    </div>
                </div>
            </div>
            
            <!-- 金额信息 -->
            <div class="space-y-2">
                <div class="flex justify-between text-sm">
                    <span class="text-gray-500">商品金额</span>
                    <span class="text-gray-800" id="subtotal">¥49.00</span>
                </div>
                <div class="flex justify-between text-sm">
                    <span class="text-gray-500">运费</span>
                    <span class="text-gray-800">¥0.00</span>
                </div>
                <div class="flex justify-between text-sm">
                    <span class="text-gray-500">优惠</span>
                    <span class="text-red-500">-¥20.00</span>
                </div>
                <div class="flex justify-between text-sm font-medium pt-2 border-t border-gray-100 mt-2">
                    <span class="text-gray-800">实付金额</span>
                    <span class="text-red-600" id="totalAmount">¥49.00</span>
                </div>
            </div>
        </div>
        
        <!-- 收货信息卡片 -->
        <div class="bg-white rounded-xl p-4 mb-4 border border-gray-200 shadow-sm">
            <div class="flex justify-between items-center mb-3">
                <h2 class="text-base font-semibold text-gray-800">收货信息</h2>
                <button class="text-blue-500 text-xs">修改</button>
            </div>
            <div class="flex items-start">
                <i class="fas fa-map-marker-alt text-red-500 mt-1 mr-2"></i>
                <div class="flex-1">
                    <p class="text-sm text-gray-800">北京市朝阳区国贸花园小区1栋3单元</p>
                    <p class="text-xs text-gray-500 mt-1">张明 (先生) 138****5678</p>
                </div>
            </div>
        </div>
        
        <!-- 订单操作按钮 -->
        <div class="flex space-x-3 mt-5">
            <button class="flex-1 py-3 border border-gray-300 rounded-lg text-gray-700 text-sm font-medium flex items-center justify-center action-btn">
                <i class="fas fa-comments text-gray-500 mr-2"></i> 联系客服
            </button>
            <button class="flex-1 py-3 border border-gray-300 rounded-lg text-gray-700 text-sm font-medium flex items-center justify-center action-btn">
                <i class="fas fa-phone-alt text-gray-500 mr-2"></i> 拨打电话
            </button>
        </div>
    </main>
    
    <!-- 底部固定操作区 -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex space-x-3">
        <button class="flex-1 py-2.5 border border-gray-300 rounded-lg text-gray-700 text-sm font-medium action-btn">
            取消订单
        </button>
        <button id="trackShippingBtn" class="flex-1 py-2.5 bg-gradient-to-r from-amber-500 to-red-500 text-white rounded-lg text-sm font-medium action-btn">
            查看物流
        </button>
    </div>

    <!-- 统一的底部导航栏 - 默认隐藏，因为这是订单详情页 -->
    <div id="unifiedBottomNav" class="h-[83px] bg-white border-t border-gray-200 flex justify-around items-center fixed bottom-0 left-0 right-0" style="display: none;">
        <a href="home.html" class="flex flex-col items-center justify-center w-1/5 text-gray-400">
            <i class="fas fa-home text-2xl mb-1"></i>
            <span class="text-xs">首页</span>
        </a>
        <a href="works.html" class="flex flex-col items-center justify-center w-1/5 text-gray-400">
            <i class="fas fa-compass text-2xl mb-1"></i>
            <span class="text-xs">热门</span>
        </a>
        <a href="shop.html" class="flex flex-col items-center justify-center w-1/5 text-gray-400">
            <i class="fas fa-store text-2xl mb-1"></i>
            <span class="text-xs">商城</span>
        </a>
        <a href="me.html" class="flex flex-col items-center justify-center w-1/5 text-[#007aff]">
            <i class="fas fa-user text-2xl mb-1"></i>
            <span class="text-xs">我的</span>
        </a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const backBtn = document.getElementById('backBtn');
            const trackShippingBtn = document.getElementById('trackShippingBtn');
            
            // 返回按钮点击事件
            if (backBtn) {
                backBtn.addEventListener('click', function() {
                    // 返回到订单列表或个人中心
                    window.location.href = 'orders.html';
                });
            }
            
            // 获取URL参数中的订单ID
            const urlParams = new URLSearchParams(window.location.search);
            const orderId = urlParams.get('orderId') || 'ORDER123456';
            
            // 更新订单信息
            document.getElementById('orderId').textContent = orderId;
            
            // 查看物流按钮点击事件
            if (trackShippingBtn) {
                trackShippingBtn.addEventListener('click', function() {
                    // 跳转到物流跟踪页面
                    window.location.href = 'shipping_tracking.html?orderId=' + orderId;
                });
            }
            
            // 设置订单时间为当前时间
            const now = new Date();
            const orderTimeStr = now.getFullYear() + '-' + 
                                String(now.getMonth() + 1).padStart(2, '0') + '-' + 
                                String(now.getDate()).padStart(2, '0') + ' ' +
                                String(now.getHours()).padStart(2, '0') + ':' +
                                String(now.getMinutes()).padStart(2, '0') + ':' +
                                String(now.getSeconds()).padStart(2, '0');
            document.getElementById('orderTime').textContent = orderTimeStr;
            
            // 订单状态变更演示
            const changeOrderStatus = () => {
                const statuses = ['待发货', '已发货', '配送中', '已送达', '已完成'];
                const statusDescs = [
                    '商家正在处理您的订单',
                    '商品已发出，正在等待配送',
                    '配送员正在派送中',
                    '商品已送达指定地点',
                    '订单已完成，感谢您的购买'
                ];
                
                // 模拟随机订单状态
                const randomStatus = Math.floor(Math.random() * statuses.length);
                document.getElementById('orderStatusBadge').textContent = statuses[randomStatus];
                document.getElementById('orderStatusDesc').textContent = statusDescs[randomStatus];
                
                // 更新进度条状态
                const progressSteps = document.querySelectorAll('.progress-step');
                for (let i = 0; i < progressSteps.length; i++) {
                    if (i <= randomStatus + 1) { // +1 因为第一个是下单，第二个是支付状态
                        progressSteps[i].classList.add('completed');
                        const icon = progressSteps[i].querySelector('div > i');
                        icon.className = 'fas fa-check text-green-500 text-xs';
                        progressSteps[i].querySelector('div').classList.remove('bg-white/40');
                        progressSteps[i].querySelector('div').classList.add('bg-white');
                    }
                }
            };
            
            // 随机设置一个订单状态
            setTimeout(changeOrderStatus, 500);
        });
    </script>
</body>
</html> 