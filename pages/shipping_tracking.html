<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>物流跟踪 - AI创意魔方</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f8f8f8;
            padding-top: 44px; /* 为状态栏预留空间 */
            height: calc(100vh - 44px); /* 减去状态栏高度 */
            overflow-y: auto;
        }
        /* 物流时间线样式 */
        .timeline-dot {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            border-radius: 50%;
            margin-right: 15px;
            position: relative;
            z-index: 2;
            flex-shrink: 0;
        }
        .timeline-dot.active {
            background-color: #10b981;
        }
        .timeline-line {
            position: absolute;
            width: 2px;
            background-color: #e5e7eb;
            top: 0;
            bottom: 0;
            left: 6px;
            z-index: 1;
        }
        .timeline-item {
            position: relative;
            padding-bottom: 20px;
        }
        .timeline-item:last-child {
            padding-bottom: 0;
        }
        .timeline-item:last-child .timeline-line {
            display: none;
        }
    </style>
</head>
<body>
    <!-- 页面头部 -->
    <header class="bg-white px-4 py-3 flex items-center justify-between sticky top-0 z-10 shadow-sm">
        <div class="flex items-center">
            <button id="backBtn" class="w-8 h-8 flex items-center justify-center mr-2">
                <i class="fas fa-chevron-left text-gray-600"></i>
            </button>
            <h1 class="text-lg font-semibold text-gray-800">物流跟踪</h1>
        </div>
        <button class="w-8 h-8 flex items-center justify-center rounded-full bg-gray-100">
            <i class="fas fa-headset text-gray-600"></i>
        </button>
    </header>

    <!-- 主要内容区 -->
    <main class="p-4 pb-32">
        <!-- 物流状态卡片 -->
        <div class="bg-gradient-to-r from-green-500 to-teal-500 rounded-xl p-4 mb-4 text-white shadow-lg">
            <div class="flex items-center justify-between mb-3">
                <h2 class="text-base font-semibold">物流状态</h2>
                <span id="deliveryStatus" class="px-2 py-1 bg-white/20 text-white text-xs rounded-full backdrop-blur-sm">配送中</span>
            </div>
            <div class="flex items-center mb-3">
                <div class="bg-white/20 w-10 h-10 rounded-full flex items-center justify-center mr-3">
                    <i class="fas fa-truck text-xl"></i>
                </div>
                <div>
                    <p class="text-sm opacity-90">预计送达时间</p>
                    <p class="text-lg font-bold">今天 15:30-16:30</p>
                </div>
            </div>
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <span class="bg-white/20 w-6 h-6 rounded-full flex items-center justify-center mr-2">
                        <i class="fas fa-user text-xs"></i>
                    </span>
                    <span class="text-sm">张师傅 (配送员)</span>
                </div>
                <button class="flex items-center bg-white/30 px-3 py-1.5 rounded-full text-sm">
                    <i class="fas fa-phone-alt mr-1.5"></i>
                    <span>联系配送员</span>
                </button>
            </div>
        </div>
        
        <!-- 订单信息卡片 -->
        <div class="bg-white rounded-xl p-4 mb-4 border border-gray-200 shadow-sm">
            <h2 class="text-base font-semibold text-gray-800 mb-3">订单信息</h2>
            <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                    <span class="text-gray-500">订单编号</span>
                    <div class="flex items-center">
                        <span class="text-gray-800 mr-2" id="orderId">ORDER123456</span>
                        <button class="text-blue-500 text-xs border border-blue-100 px-1.5 py-0.5 rounded">复制</button>
                    </div>
                </div>
                <div class="flex justify-between">
                    <span class="text-gray-500">物流公司</span>
                    <span class="text-gray-800">顺丰速运</span>
                </div>
                <div class="flex justify-between">
                    <span class="text-gray-500">运单号码</span>
                    <div class="flex items-center">
                        <span class="text-gray-800 mr-2">SF1234567890123</span>
                        <button class="text-blue-500 text-xs border border-blue-100 px-1.5 py-0.5 rounded">复制</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 配送位置卡片 -->
        <div class="bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm mb-4">
            <div class="p-4 border-b border-gray-100">
                <h2 class="text-base font-semibold text-gray-800 mb-1">配送位置</h2>
                <p class="text-xs text-gray-500">配送员正在前往您的地址途中</p>
            </div>
            <div class="h-40 bg-gray-100 relative">
                <!-- 地图占位图 -->
                <img src="https://images.unsplash.com/photo-1569336415962-a4bd9f69cd83?q=80&w=1064&auto=format&fit=crop" alt="地图" class="w-full h-full object-cover opacity-80">
                <!-- 地图标记 -->
                <div class="absolute left-1/4 top-1/2">
                    <div class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center animate-pulse">
                        <i class="fas fa-truck text-white text-xs"></i>
                    </div>
                </div>
                <div class="absolute right-1/3 top-1/3">
                    <div class="w-6 h-6 bg-red-500 rounded-full flex items-center justify-center">
                        <i class="fas fa-map-marker-alt text-white text-xs"></i>
                    </div>
                </div>
                <div class="absolute bottom-2 right-2 bg-white rounded-lg px-3 py-1.5 text-xs shadow-md">
                    <span class="font-bold">预计到达:</span> 15分钟后
                </div>
            </div>
        </div>
        
        <!-- 物流动态卡片 -->
        <div class="bg-white rounded-xl p-4 border border-gray-200 shadow-sm">
            <h2 class="text-base font-semibold text-gray-800 mb-4">物流跟踪</h2>
            
            <!-- 物流时间线 -->
            <div class="relative">
                <div class="timeline-item flex">
                    <div class="timeline-line"></div>
                    <div class="timeline-dot active"></div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800">配送员正在派送</p>
                        <p class="text-xs text-gray-500 mt-1">配送员张师傅已经取件，正在派送中</p>
                        <p class="text-xs text-gray-400 mt-1">今天 14:30</p>
                    </div>
                </div>
                
                <div class="timeline-item flex">
                    <div class="timeline-line"></div>
                    <div class="timeline-dot active"></div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800">快件已到达【北京朝阳区建外街道营业点】</p>
                        <p class="text-xs text-gray-500 mt-1">您的快件已到达营业点，准备配送</p>
                        <p class="text-xs text-gray-400 mt-1">今天 09:15</p>
                    </div>
                </div>
                
                <div class="timeline-item flex">
                    <div class="timeline-line"></div>
                    <div class="timeline-dot active"></div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800">快件在【北京转运中心】完成分拣</p>
                        <p class="text-xs text-gray-500 mt-1">您的快件已经完成分拣，即将发往目的地</p>
                        <p class="text-xs text-gray-400 mt-1">昨天 23:40</p>
                    </div>
                </div>
                
                <div class="timeline-item flex">
                    <div class="timeline-line"></div>
                    <div class="timeline-dot active"></div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800">快件已到达【北京转运中心】</p>
                        <p class="text-xs text-gray-500 mt-1">您的快件已到达城市转运中心</p>
                        <p class="text-xs text-gray-400 mt-1">昨天 20:15</p>
                    </div>
                </div>
                
                <div class="timeline-item flex">
                    <div class="timeline-line"></div>
                    <div class="timeline-dot active"></div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800">快件已从【上海仓库】发出</p>
                        <p class="text-xs text-gray-500 mt-1">商家已发货，开始发往北京</p>
                        <p class="text-xs text-gray-400 mt-1">昨天 15:20</p>
                    </div>
                </div>
                
                <div class="timeline-item flex">
                    <div class="timeline-line"></div>
                    <div class="timeline-dot active"></div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800">快件已打包</p>
                        <p class="text-xs text-gray-500 mt-1">商家已完成打包，准备发货</p>
                        <p class="text-xs text-gray-400 mt-1">昨天 10:05</p>
                    </div>
                </div>
                
                <div class="timeline-item flex">
                    <div class="timeline-dot active"></div>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800">商家已接单</p>
                        <p class="text-xs text-gray-500 mt-1">您的订单已被商家确认</p>
                        <p class="text-xs text-gray-400 mt-1">前天 14:30</p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- 底部固定操作区 -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 flex space-x-3">
        <button class="flex-1 py-2.5 border border-gray-300 rounded-lg text-gray-700 text-sm font-medium flex items-center justify-center">
            <i class="fas fa-comments text-gray-500 mr-2"></i>
            联系客服
        </button>
        <button class="flex-1 py-2.5 bg-blue-500 text-white rounded-lg text-sm font-medium flex items-center justify-center">
            <i class="fas fa-check-circle mr-2"></i>
            确认收货
        </button>
    </div>

    <!-- 统一的底部导航栏 - 默认隐藏，因为这是物流跟踪页面 -->
    <div id="unifiedBottomNav" class="h-[83px] bg-white border-t border-gray-200 flex justify-around items-center fixed bottom-0 left-0 right-0" style="display: none;">
        <a href="home.html" class="flex flex-col items-center justify-center w-1/5 text-gray-400">
            <i class="fas fa-home text-2xl mb-1"></i>
            <span class="text-xs">首页</span>
        </a>
        <a href="works.html" class="flex flex-col items-center justify-center w-1/5 text-gray-400">
            <i class="fas fa-compass text-2xl mb-1"></i>
            <span class="text-xs">热门</span>
        </a>
        <a href="shop.html" class="flex flex-col items-center justify-center w-1/5 text-gray-400">
            <i class="fas fa-store text-2xl mb-1"></i>
            <span class="text-xs">商城</span>
        </a>
        <a href="me.html" class="flex flex-col items-center justify-center w-1/5 text-[#007aff]">
            <i class="fas fa-user text-2xl mb-1"></i>
            <span class="text-xs">我的</span>
        </a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const backBtn = document.getElementById('backBtn');
            
            // 返回按钮点击事件
            if (backBtn) {
                backBtn.addEventListener('click', function() {
                    // 返回到订单详情页
                    window.location.href = 'order_detail.html';
                });
            }
            
            // 从订单详情页面接收参数
            const urlParams = new URLSearchParams(window.location.search);
            const orderId = urlParams.get('orderId') || 'ORDER123456';
            
            // 更新页面上的订单ID
            document.getElementById('orderId').textContent = orderId;
            
            // 检测是否在iframe中加载
            const isInIframe = window.self !== window.top;
            const unifiedBottomNav = document.getElementById('unifiedBottomNav');
            
            // 如果不在iframe中，显示统一导航栏（但在物流跟踪页面通常保持隐藏状态）
            if (!isInIframe && unifiedBottomNav) {
                // 底部已有操作按钮，不显示导航栏
                // unifiedBottomNav.style.display = 'flex';
                
                // 配置导航点击事件
                const navLinks = unifiedBottomNav.querySelectorAll('a');
                
                navLinks.forEach(link => {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        const href = this.getAttribute('href');
                        window.location.href = href;
                    });
                });
            }
        });
    </script>
</body>
</html> 